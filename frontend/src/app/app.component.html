<div class="app-container">
  <header class="app-header">
    <div class="header-content">
      <h1>ğŸ”· {{ title }}</h1>
      <p class="subtitle">Distributed RDF Database - Fragment Processing</p>
      
      <!-- Navigation Tabs -->
      <nav class="nav-tabs">
        <button 
          class="nav-tab" 
          [class.active]="currentView === 'fragmentation'"
          (click)="currentView = 'fragmentation'">
          ğŸ“¦ Fragmentation
        </button>
        <button 
          class="nav-tab" 
          [class.active]="currentView === 'allocation'"
          (click)="currentView = 'allocation'">
          ğŸ¯ Allocation
        </button>
        <button 
          class="nav-tab" 
          [class.active]="currentView === 'query'"
          (click)="currentView = 'query'">
          ğŸ” Query Execution
        </button>
      </nav>
    </div>
  </header>

  <main class="app-main">
    <!-- Fragmentation View -->
    <div *ngIf="currentView === 'fragmentation'">
      <section class="section">
        <app-file-upload></app-file-upload>
      </section>

      <section class="section fragmentation-controls">
        <div class="controls-card">
          <h2>Fragmentation Process</h2>
          <p class="description">
            Process uploaded RDF files and generate fragments using the PQDAG algorithm.
          </p>
          
          <div class="control-group">
            <label class="checkbox-label">
              <input type="checkbox" #cleanAfterCheckbox>
              <span>Clean raw data after fragmentation</span>
            </label>
          </div>

          <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>

          <button 
            class="btn btn-start"
            [disabled]="isProcessing"
            (click)="startFragmentation(cleanAfterCheckbox.checked)">
            <span *ngIf="!isProcessing">â–¶ Start Fragmentation</span>
            <span *ngIf="isProcessing">â³ Processing...</span>
          </button>
        </div>
      </section>

      <section class="section" *ngIf="fragmentationResult">
        <app-fragmentation-results 
          [result]="fragmentationResult"
          (navigateToAllocationView)="currentView = 'allocation'">
        </app-fragmentation-results>
      </section>
    </div>

    <!-- Allocation View -->
    <div *ngIf="currentView === 'allocation'">
      <app-allocation></app-allocation>
    </div>

    <!-- Query View -->
    <div *ngIf="currentView === 'query'">
      <app-query></app-query>
    </div>
  </main>

  <footer class="app-footer">
    <p>PQDAG GUI Â© 2025 - Distributed RDF Query Processing</p>
  </footer>
</div>
